<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Admin Dashboard - Pharmacy Management</title>
    <link rel="stylesheet" th:href="@{/css/bootstrap.min.css}">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">

    <script th:src="@{/js/bootstrap.bundle.min.js}"></script>
    <script th:src="@{/js/jquery-3.6.0.min.js}"></script>

    <script th:src="@{/js/highcharts/highcharts.js}"></script>
    <script th:src="@{/js/highcharts/exporting.js}"></script>
    <script th:src="@{/js/highcharts/export-data.js}"></script>
    <script th:src="@{/js/highcharts/accessibility.js}"></script>
    <script th:src="@{/js/highcharts/adaptive.js}"></script>

    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(to right, #f8f9fa, #e9ecef);
        }
        .card {
            border: none;
            border-radius: 15px;
            transition: transform 0.3s, box-shadow 0.3s;
            overflow: hidden;
        }
        .card:hover {
            transform: translateY(-7px);
            box-shadow: 0 15px 25px rgba(0,0,0,0.1);
        }
        .card-icon {
            font-size: 2.5rem;
            margin-bottom: 10px;
            color: #fff;
        }
        .card-header {
            padding: 1.5rem;
            color: #fff;
            font-weight: 600;
            text-align: center;
        }
        .btn-custom {
            border-radius: 50px;
            padding: 6px 18px;
            font-weight: 500;
        }
        footer {
            background-color: #f1f3f5;
        }
        .gradient-medicine { background: linear-gradient(135deg, #6a11cb 0%, #2575fc 100%); }
        .gradient-customer { background: linear-gradient(135deg, #ff416c 0%, #ff4b2b 100%); }
        .gradient-order { background: linear-gradient(135deg, #11998e 0%, #38ef7d 100%); }
        .gradient-inquiry { background: linear-gradient(135deg, #fc5c7d 0%, #6a82fb 100%); }
        .gradient-sales { background: linear-gradient(135deg, #f7971e 0%, #ffd200 100%); }
    </style>
</head>
<body>
<th:block th:insert="AdminHeader.html"></th:block>
<div class="container mt-5">
    <div class="d-flex justify-content-between">
        <div class="col-md-3 col-sm-6 mb-3">
            <div class="card shadow-sm border-0 mx-2">
                <div class="card-body d-flex align-items-center">

                    <!-- Icon -->
                    <div class="me-3">
                        <div class="bg-primary bg-opacity-10 text-primary rounded-circle d-flex align-items-center justify-content-center"
                             style="width: 48px; height: 48px;">
                            <i class="bi bi-people fs-4"></i>
                        </div>
                    </div>

                    <!-- Content -->
                    <div>
                        <h6 class="mb-1 text-muted">Total Users</h6>
                        <h3 class="mb-0 fw-bold">[[${totalCustomers}]]</h3>
                    </div>

                </div>
            </div>
        </div>

        <div class="col-md-3 col-sm-6 mb-3">
            <div class="card shadow-sm border-0 mx-2">
                <div class="card-body d-flex align-items-center">

                    <!-- Icon -->
                    <div class="me-3">
                        <div class="bg-primary bg-opacity-10 text-primary rounded-circle d-flex align-items-center justify-content-center"
                             style="width: 48px; height: 48px;">
                            <i class="bi bi-bag-check"></i>
                        </div>
                    </div>

                    <!-- Content -->
                    <div>
                        <h6 class="mb-1 text-muted">Total Orders</h6>
                        <h3 class="mb-0 fw-bold">[[${totalOrders}]]</h3>
                    </div>

                </div>
            </div>
        </div>

        <div class="col-md-3 col-sm-6 mb-3">
            <div class="card shadow-sm border-0 mx-2">
                <div class="card-body d-flex align-items-center">

                    <!-- Icon -->
                    <div class="me-3">
                        <div class="bg-primary bg-opacity-10 text-primary rounded-circle d-flex align-items-center justify-content-center"
                             style="width: 48px; height: 48px;">
                            <i class="bi bi-bag-check"></i>
                        </div>
                    </div>

                    <!-- Content -->
                    <div>
                        <h6 class="mb-1 text-muted"> Total Prescribed Order</h6>
                        <h3 class="mb-0 fw-bold">[[${prescribedOrder}]]</h3>
                    </div>

                </div>
            </div>
        </div>

        <div class="col-md-3 col-sm-6 mb-3">
            <div class="card shadow-sm border-0 mx-2">
                <div class="card-body d-flex align-items-center">

                    <!-- Icon -->
                    <div class="me-3">
                        <div class="bg-primary bg-opacity-10 text-primary rounded-circle d-flex align-items-center justify-content-center"
                             style="width: 48px; height: 48px;">
                            <i class="bi bi-capsule"></i>
                        </div>
                    </div>

                    <!-- Content -->
                    <div>
                        <h6 class="mb-1 text-muted">Total Medicine</h6>
                        <h3 class="mb-0 fw-bold">[[${totalMedicine}]]</h3>
                    </div>

                </div>
            </div>
        </div>
    </div>

    <div class="row mb-6">
        <div class="col-sm-12">
            <div id="column-chart"></div>
        </div>
    </div>
    <div class="row g-4 justify-content-center text-center">
        <!-- Medicines -->
        <div class="col-md-3 col-sm-6">
            <div class="card">
                <div class="card-header gradient-medicine">
                    <i class="bi bi-capsule card-icon"></i>
                    Medicines
                </div>
                <div class="card-body">
                    <p class="card-text">Add, Edit, Delete medicines</p>
                    <a href="/medicineDashboard" class="btn btn-primary btn-custom">Manage</a>
                </div>
            </div>
        </div>
        <!-- Customers -->
        <div class="col-md-3 col-sm-6">
            <div class="card">
                <div class="card-header gradient-customer">
                    <i class="bi bi-people card-icon"></i>
                    Customers
                </div>
                <div class="card-body">
                    <p class="card-text">View Customer Details</p>
                    <a href="/admin/customerDetails" class="btn btn-primary btn-custom">View</a>
                </div>
            </div>
        </div>
        <!-- Orders -->
        <div class="col-md-3 col-sm-6">
            <div class="card">
                <div class="card-header gradient-order">
                    <i class="bi bi-bag-check card-icon"></i>
                    Orders
                </div>
                <div class="card-body">
                    <p class="card-text">View and process orders</p>
                    <a href="/orderDetails" class="btn btn-primary btn-custom">Orders</a>
                </div>
            </div>
        </div>
        <!-- Inquiry -->
        <div class="col-md-3 col-sm-6">
            <div class="card">
                <div class="card-header gradient-inquiry">
                    <i class="bi bi-chat-dots card-icon"></i>
                    Inquiry
                </div>
                <div class="card-body">
                    <p class="card-text">View customer inquiries</p>
                    <a href="/admin/inquiry" class="btn btn-primary btn-custom">View</a>
                </div>
            </div>
        </div>
        <!-- Sales Report -->
        <div class="col-md-3 col-sm-6">
            <div class="card">
                <div class="card-header gradient-sales">
                    <i class="bi bi-bar-chart-line card-icon"></i>
                    Sales Report
                </div>
                <div class="card-body">
                    <p class="card-text">Daily, weekly, monthly sales</p>
                    <a href="/viewSalesStatement" class="btn btn-primary btn-custom">View</a>
                </div>
            </div>
        </div>
    </div>
</div>

<footer class="text-center text-muted py-3 mt-5">
    &copy; 2025 Pharma Management. All rights reserved.
</footer>

<script th:src="@{/js/order-notification.js}"></script>
<script th:inline="javascript">
    $(document).ready(function() {
        /*<![CDATA[*/
        var months = [[${months}]];
        var values = [[${values}]];
        /*]]>*/

        Highcharts.chart('column-chart', {
            chart: {
                type: 'column'
            },
            title: {
                text: 'Monthly Sales Count for current year'
            },
            xAxis: {
                categories: months
            },
            yAxis: {
                min: 0,
                title: {
                    text: 'Number of records'
                }
            },
            plotOptions: {
                column: {
                    pointPadding: 0.2,
                    borderWidth: 0
                }
            },
            series: [
                {
                    name: 'Record Count',
                    data: values
                }
            ]
        });
    });
</script>
</body>
</html>
